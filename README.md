# R&D-репозиторий по дизайну A/B-экспериментов

В репозитории используется принцип **«один RnD — один основной файл»**:
- для каждого исследования главным документом является `report.md` в корне папки RnD;
- в этом файле собрана почти вся содержательная часть (цель, методология, выводы, формулы, риски, план внедрения);
- внешние ссылки внутри отчёта оставлены в основном только на код и артефакты воспроизводимости.

Сейчас реализован один полноценный RnD:
- `rnd_01_ab_дизайн_экспериментов/report.md` — единый документ по исследованию;
- `rnd_01_ab_дизайн_экспериментов/` — сопутствующий код, ноутбуки и дополнительные материалы.

Папка `planned_rnd/` содержит шаблон для следующих исследований в том же формате.

## Текущая структура

- `rnd_01_ab_дизайн_экспериментов/`
  - `report.md` — **основной консолидированный отчёт RnD 01**.
  - `README.md` — короткая навигационная памятка по папке.
  - `01_статьи_и_математика/analysis.ipynb` — базовые теоретические расчёты.
  - `02_множественные_проверки/analysis.ipynb` — демо корректировок множественных сравнений.
  - `03_рерандомизация/analysis.ipynb` — ноутбук по балансировке и риску ложных сигналов.
  - `03_рерандомизация/simulation.py` — CLI-симуляция правил приемки сплита.
  - `03_рерандомизация/simulation_results.csv` — пример результатов симуляции.
  - `03_рерандомизация/report.pdf` — PDF-версия расширенного отчёта по рерандомизации.
  - `04_план_внедрения/analysis.ipynb` — операционный чек-лист внедрения.
  - `codex_prompts/prompts_codex.md` — библиотека рабочих промптов.
- `planned_rnd/README.md` — шаблон структуры для будущих RnD.
- `tools/execute_notebooks.py` — пакетный запуск всех ноутбуков.
- `tools/generate_pdf.py` — сборка PDF-отчёта по рерандомизации.
- `requirements.txt` — зависимости.

## Как воспроизводить

### 1) Установить зависимости
```bash
pip install -r requirements.txt
```

### 2) Выполнить все ноутбуки
```bash
python tools/execute_notebooks.py
```

### 3) Запустить симуляцию рерандомизации
```bash
python rnd_01_ab_дизайн_экспериментов/03_рерандомизация/simulation.py --n-iter 500 --n 500 --feature-grid 5,10,20,50 --output rnd_01_ab_дизайн_экспериментов/03_рерандомизация/simulation_results.csv
```

### 4) Пересобрать PDF-отчёт
```bash
python tools/generate_pdf.py
```

## Стандарт оформления
- Отчёты и комментарии в коде ведутся на русском языке.
- Ноутбуки коммитятся только после полного выполнения (с актуальными output).
- Для каждого RnD поддерживается единый основной отчёт `report.md` как точка входа «почти без переходов по дереву ссылок».
